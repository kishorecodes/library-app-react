(this.webpackJsonplibrary=this.webpackJsonplibrary||[]).push([[0],{101:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(30),c=a.n(o),l=a(65),i=a(13),s=a(14),u=a(16),p=a(15),h=a(17),m=a(109),d=a(107),b=a(108),f=a(62),E=a(103),v=a(24),y=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(n)))).state={search:""},a.onChangeEvent=function(e){a.setState({search:e.target.value}),a.props.filterBooks(a.state.search)},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.cart.length;return n.a.createElement("div",null,n.a.createElement(m.a,{bg:"primary",variant:"dark"},n.a.createElement("img",{alt:"logo",src:"https://i.pinimg.com/originals/2c/fc/93/2cfc93d7665f5d7728782700e50596e3.png",width:"30",height:"30",className:"d-inline-block align-top"}),n.a.createElement(v.b,{to:"/library-app-react/"},n.a.createElement(m.a.Brand,null,"Library")),n.a.createElement(d.a,{className:"mr-auto"}),n.a.createElement(b.a,{inline:!0},n.a.createElement(f.a,{type:"text",placeholder:"Search",className:"mr-sm-2",onChange:this.onChangeEvent})),n.a.createElement(v.b,{to:"/cart"},n.a.createElement(E.a,{variant:"outline-light",outline:!0},"Cart: ",e))))}}]),t}(r.Component),k=a(104),g=a(111),C=a(105),j=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.book,r=t.searched,o=new Date,c=o.getDate()+3,l=o.getMonth()+1,i=o.getFullYear(),s=a.filter((function(e){return e.title.toLowerCase().includes(r.toLowerCase())||e.author.toLowerCase().includes(r.toLowerCase())||e.genre.toLowerCase().includes(r.toLowerCase())||e.yop.toString().includes(r.toString())||!e})).map((function(t){return n.a.createElement("div",{key:t.id},n.a.createElement(k.a,null,n.a.createElement(k.a,{left:!0},n.a.createElement(k.a,{src:t.img,alt:"book"})),n.a.createElement(k.a,{body:!0},n.a.createElement(k.a,{heading:!0},t.title),n.a.createElement(k.a,null,"Genre: ",t.genre),n.a.createElement("br",null),n.a.createElement(k.a,null,"Written By: ",t.author),n.a.createElement("br",null),n.a.createElement(k.a,null,"Published on: ",t.yop),n.a.createElement("br",null),!0===t.availability?n.a.createElement(C.a,{pill:!0,variant:"success"},"Available"):n.a.createElement(C.a,{pill:!0,variant:"danger"},"Not Available. Only Available on ",c,"/",l,"/",i),n.a.createElement("br",null),!0===t.availability?n.a.createElement(g.a,{color:"primary",onClick:function(){return e.props.addToCart(t.id)}},"Add To Cart"):null)),n.a.createElement("hr",{style:{border:"1px dashed black"}}))}));return n.a.createElement("div",null,s)}}]),t}(r.Component),O=a(64),w=a.n(O),S=a(106),A=a(110),T=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(n)))).state={book:a.props.book,cart:[]},a.finalCart=function(e,t){for(var r=0;r<e.length;r++){t[e[r]-1].availability=!1,a.setState({book:t})}a.props.resetStateToApp()},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("div",null,n.a.createElement(v.b,{to:"/library-app-react/"},n.a.createElement(E.a,{style:{float:"right"},variant:"outline-primary",onClick:function(){e.finalCart(e.props.cart,e.state.book)}},"Proceed To CheckOut")))}}]),t}(r.Component),x=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(n)))).state={cart:a.props.cart},a.resetStateToApp=function(){a.props.resetCartState()},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"removeFromCart",value:function(e){for(var t=0;t<this.props.cart.length;t++)this.props.cart[t]===e&&(this.props.cart.splice(t,1),this.setState({cart:this.state.cart}));this.props.updateCart(this.state.cart)}},{key:"render",value:function(){var e=this,t=this.props.book.filter((function(t){return t.id===e.state.cart[0]||t.id===e.state.cart[1]||t.id===e.state.cart[2]})).map((function(t){return n.a.createElement("div",{key:t.id},n.a.createElement(S.a,{responsive:!0},n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("td",null,n.a.createElement("img",{src:t.img,width:"70px",height:"120px",alt:"book"})),n.a.createElement("td",null,t.title),n.a.createElement("td",null,t.author),n.a.createElement("td",null,t.genre),n.a.createElement("td",null,t.yop),n.a.createElement("td",null,n.a.createElement(g.a,{style:{float:"right"},onClick:function(){return e.removeFromCart(t.id)}},"Remove"))))))})),a=Math.abs(this.state.cart.length-3);return n.a.createElement("div",null,n.a.createElement(A.a,{variant:"success",style:{textAlign:"center"}},"You can add ",a," book to your cart"),t,n.a.createElement(T,{book:this.props.book,cart:this.state.cart,resetStateToApp:this.resetStateToApp}))}}]),t}(r.Component),B=a(21),L=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(n)))).state={books:[],cart:[],search:""},a.addToCart=function(e){a.state.cart.length<3?a.setState({cart:[].concat(Object(l.a)(a.state.cart),[e])}):alert("Maximum three books allowed per user.Proceed to Checkout")},a.resetCartState=function(){a.setState({cart:[]})},a.updateCart=function(e){a.setState({cart:e})},a.filterBooks=function(e){a.setState({search:e})},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;w.a.get("https://my-json-server.typicode.com/kishorecodes/jsonserver/books").then((function(t){console.log(t.books),e.setState({books:t.data})}))}},{key:"render",value:function(){var e=this;return n.a.createElement(v.a,null,n.a.createElement("div",null,n.a.createElement(y,{cart:this.state.cart,filterBooks:this.filterBooks}),n.a.createElement(B.a,{exact:!0,path:"/library-app-react/",render:function(){return n.a.createElement(j,{book:e.state.books,addToCart:e.addToCart,searched:e.state.search})}}),n.a.createElement(B.a,{path:"/cart",render:function(){return n.a.createElement(x,{cart:e.state.cart,book:e.state.books,updateCart:e.updateCart,resetCartState:e.resetCartState})}})))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(100);c.a.render(n.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},67:function(e,t,a){e.exports=a(101)}},[[67,1,2]]]);
//# sourceMappingURL=main.d66a3b97.chunk.js.map